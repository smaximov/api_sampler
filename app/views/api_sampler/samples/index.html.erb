<div class="ui segments">
  <div class="ui secondary segment">
    <%= @endpoint.request_method %> <%= @endpoint.path %>
  </div>

  <%= form_for @samples_filter, url: api_sampler.endpoint_samples_path(@endpoint),
                                method: 'GET', html: { class: 'ui form segment' } do |f| %>
    <div class="field">
      <%= f.select 'tags', tags(@samples_filter), { include_blank: t('.select_tags') },
                           class: 'ui fluid search dropdown', multiple: true %>
    </div>

    <%= f.submit t('.filter'), class: 'ui primary button' %>
  <% end %>
</div>

<table class="ui blue unstackable sortable striped celled table">
  <thead>
    <tr>
      <th><%= t('.path_params') %></th>
      <th><%= t('.query_params') %></th>
      <th><%= t('.tags') %></th>
      <th><%= sortable_column(t('.collected_at'), :created_at) %></th>
    </tr>
  </thead>
  <tbody>
    <% @samples.each do |sample| %>
      <tr>
        <td><%= sample.path_params %></td>
        <td><%= sample.query %></td>
        <td><%= render sample.tags %></td>
        <td><%= sample.created_at %></td>
      </tr>
    <% end %>
  </tbody>
  <tfoot>
    <th colspan="4">
      <%= paginate @samples, views_prefix: 'api_sampler' %>
    </th>
  </tfoot>
</table>
